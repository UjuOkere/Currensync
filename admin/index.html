<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CurrenSync CMS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        margin: 0;
        font-family: sans-serif;
      }

      #loading {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-size: 1.5em;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div id="loading">Initializing CMS...</div>

    <script type="module">
      import StaticCMS from "https://unpkg.com/@staticcms/app@3.0.1/dist/static-cms.js";

      StaticCMS.init({
        config: {
          backend: {
            name: "github",
            repo: "your-username/your-repo", // üîÅ Replace with your actual GitHub repo
            branch: "main", // Or your working branch
            base_url: "/api/auth", // Required for GitHub OAuth via Netlify Function
          },
          media_folder: "public/uploads",
          public_folder: "/uploads",
          site_url: "https://currensync.vip", // Update to your site URL
          display_url: "https://currensync.vip", // Optional
          collections: [
            {
              name: "blog",
              label: "Blog",
              folder: "blog",
              create: true,
              slug: "{{slug}}",
              fields: [
                { label: "Title", name: "title", widget: "string" },
                { label: "Date", name: "date", widget: "datetime" },
                { label: "Tags", name: "tags", widget: "list", default: [] },
                { label: "Body", name: "body", widget: "markdown" }
              ]
            }
          ]
        }
      });
    </script>
  </body>
</html>
